var __NR_MODULES="object"==typeof __NR_MODULES?__NR_MODULES:{};__NR_MODULES["9fad3ebd-9d73-467c-9515-5827a79417b3--snapone-compositeapdex"]=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="unset-public-path://9fad3ebd-9d73-467c-9515-5827a79417b3/";var n={__publicPath:function(e){r.p=e},__factory:function(t,r){const n=function(t,r,n,o){var a={};function u(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}return a[t]={i:t,l:!0,exports:r},a[n]={i:n,l:!0,exports:o},u.m=e,u.c=a,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="unset-public-path://9fad3ebd-9d73-467c-9515-5827a79417b3/",u}("Xznc",t,undefined,r);return n("bCpa")}};return n}({"1YXX":function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0},"1myO":function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},BULn:function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,r(t,n)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},LtUN:function(e,t,r){var n=r("BULn");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},Xznc:function(e,t){e.exports=function(){throw new Error('Could not initialize "nr1"')}()},a9Ii:function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},bCpa:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return _}));var n=r("x8vK"),o=r.n(n),a=r("1YXX"),u=r.n(a),c=r("LtUN"),i=r.n(c),l=r("ubW3"),p=r.n(l),s=r("a9Ii"),f=r.n(s),d=r("cDcd"),m=r.n(d),y=r("Xznc");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var o=f()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var _=function(e){i()(r,e);var t=x(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={queryAccountIds:[2767526,1480717,1300394]},n}return u()(r,[{key:"calculateCompositeApdex",value:function(e,t){if(t&&e&&t.length>0){console.log("querydata",t);for(var r=0;r<t.length;r++){return{appGroup:e,compositeApdex:t.reduce((function(e,t){return e+t.score}),0)/t.length,metadata:{id:"compositeApDex-"+e,name:"Composite Apdex "+e+" ("+t.length+" applications)",units_data:{y:"APDEX"},viz:"main"}}}}}},{key:"calculateCompositeApdexTimeseries",value:function(e,t){if(t&&e&&t.length>0){var r=[];console.log("querydata",t);for(var n=0;n<t[0].data.length;n++){for(var o=0;o<t.length;o++){var a=t[o].data[n];r[n]?r[n]={sum:a.score+r[n].sum,begin_time:a.begin_time,end_time:a.end_time,count:a.count,x:a.begin_time}:r[n]={sum:a.score,begin_time:a.begin_time,end_time:a.end_time,count:a.count}}r[n].score=r[n].sum/t.length,r[n].y=r[n].score}var u=t[0].metadata;return u.id="compositeApDex-"+e,u.name="Composite Apdex "+e+" ("+t.length+" applications)",{appGroup:e,compositeApdexTimeseries:r,metadata:u}}}},{key:"combineQueryData",value:function(){var e=arguments;console.log("args",e);for(var t=[],r=0;r<e.length;r++)e[r]&&e[r].length>0&&(t=t.concat(e[r]));return t}},{key:"render",value:function(){var e=this,t=this.state.queryAccountIds;console.log({queryAccountIds:t});var r={webSvcId:1480717,masterActId:1300394,ovrcActId:2767526};return m.a.createElement(y.Stack,{fullWidth:!0,horizontalType:y.Stack.HORIZONTAL_TYPE.FILL,gapType:y.Stack.GAP_TYPE.EXTRA_LOOSE,spacingType:[y.Stack.SPACING_TYPE.MEDIUM],directionType:y.Stack.DIRECTION_TYPE.VERTICAL},m.a.createElement(y.StackItem,null,m.a.createElement("hr",null),m.a.createElement(y.PlatformStateContext.Consumer,null,(function(n){return m.a.createElement(m.a.Fragment,null,m.a.createElement(y.Grid,{className:"primary-grid",spacingType:[y.Grid.SPACING_TYPE.NONE,y.Grid.SPACING_TYPE.NONE]},m.a.createElement(y.GridItem,{className:"primary-content-container",columnSpan:6},m.a.createElement("main",{className:"primary-content full-height"},m.a.createElement(y.HeadingText,{spacingType:[y.HeadingText.SPACING_TYPE.MEDIUM],type:y.HeadingText.TYPE.HEADING_4},"Composite Apdex NerdGraph Overall"),m.a.createElement(y.QueryGroup,null,m.a.createElement(y.NerdGraphQuery,{query:"\n        {\n            actor {\n              account(id: 1300394) {\n                nrql(query: \"SELECT apdex(apm.service.apdex) as 'my.control4.com' FROM Metric WHERE appName IN ('mydot-container','services','connectionmanager','weather','admin-service','cmauth', 'sunbritetv.com') SINCE 1 month ago FACET appName\") {\n                  results\n                }\n              }\n            }\n          }\n          ",variables:r}),m.a.createElement(y.NerdGraphQuery,{query:"\n        {\n            actor {\n              account(id: 1480717) {\n                nrql(query: \"SELECT apdex(apm.service.apdex) as 'my.control4.com' FROM Metric WHERE appName IN ('mydot-container','services','connectionmanager','weather','admin-service','cmauth', 'sunbritetv.com') SINCE 1 month ago FACET appName\") {\n                  results\n                }\n              }\n            }\n          }\n          ",variables:r}),(function(r,n){if(r.loading||n.loading)return m.a.createElement(y.Spinner,null);if(r.error||n.error)return"Error!";console.log("Query Data",r.data),console.log("Query Data",n.data);var o=e.combineQueryData(r.data.actor.account.nrql.results,n.data.actor.account.nrql.results),a=e.calculateCompositeApdex("my.control4.com",o),u=[{metadata:a.metadata,data:[{y:a.compositeApdex}]}];return console.log("compositeApdex - "+a.appGroup,u),m.a.createElement(y.BillboardChart,{fullWidth:!0,accountIds:t,data:u})}))))))}))))}}]),r}(m.a.Component)},cDcd:function(e,t){e.exports=React},nxkK:function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},ubW3:function(e,t,r){var n=r("nxkK").default,o=r("1myO");e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.default=e.exports,e.exports.__esModule=!0},x8vK:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0}});
//# sourceMappingURL=9fad3ebd-9d73-467c-9515-5827a79417b3--snapone-compositeapdex~16db809b.js.map